(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/like.9d0356f6.svg"},24:function(e,t,a){e.exports=a.p+"static/media/dislike.a0eb0044.svg"},32:function(e,t,a){e.exports=a(55)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){var n={"./anonymous.jpg":51,"./dislike.svg":24,"./like.svg":23};function r(e){var t=i(e);return a(t)}function i(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=50},51:function(e,t,a){e.exports=a.p+"static/media/anonymous.27ebeb2f.jpg"},52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),l=a.n(i),o=a(15),s=a(11),c=a(17),m=(a(41),a(8)),u=a(9),d=a(12),p=a(10),f=a(13),g=a(14),h=a(16),E=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"heading ".concat(e.isAuthenticated?"col-md-10":"w-100"," text-center")},e.heading))},b=(a(42),function(e){return r.a.createElement("div",{className:"login-form m-2"},r.a.createElement("form",{className:"mt-5 text-right",onSubmit:function(t){return e.loginSubmitHandler(t)},onBlur:function(t){return e.formValidate(t)}},r.a.createElement("input",{type:"text",className:"form-control",name:"email",onChange:function(t){return e.inputChangeHandler(t)},value:e.email,placeholder:"Email*",autoComplete:"off"}),!e.isEmailValid&&r.a.createElement("p",{className:"error text-danger text-left pl-1"},"Email is required"),r.a.createElement("input",{type:"password",className:"form-control mt-3",onChange:function(t){return e.inputChangeHandler(t)},value:e.password,name:"password",placeholder:"Password*"}),!e.isPasswordValid&&r.a.createElement("p",{className:"error text-danger text-left pl-1"},"Password is required"),r.a.createElement("button",{type:"sumit",className:"btn btn-md btn-primary mt-4 mb-4"},"Login")))}),v=function(){return{type:"LOGIN_SUCCESS"}},y=function(){return{type:"LOGIN_FAIL"}},O=(a(43),function(e){var t=!1;return""!==e.trim()&&/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&(t=!0),t}),N=function(e){var t=!1;return""!==e.trim()&&/^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9\S]+)$/.test(e)&&(t=!0),t},k=[{user_id:Math.random(10),user:{name:"Ram krishan",image_url:"anonymous.jpg"},comments:{text:"How artistic",time:"Today at 1pm",like:0,dislike:0,reply:[{name:"Mark",replyText:"Its nice to be there !"},{name:"Peter",replyText:"Its Good"}]}},{user_id:Math.random(10),user:{name:"Ram krishan",image_url:"anonymous.jpg"},comments:{text:"How artistic",time:"Today at 1pm",like:0,dislike:0,reply:[{name:"Mark",replyText:"Its nice"}]}},{user_id:Math.random(10),user:{name:"Ram krishan",image_url:"anonymous.jpg"},comments:{text:"How artistic",time:"Today at 1pm",like:0,dislike:0,reply:[]}}],w=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",isEmailValid:!0,isPasswordValid:!0,redirectToHome:null},a.inputChangeHandler=function(e){var t,n=e.target.name;a.setState((t={},Object(h.a)(t,e.target.name,e.target.value),Object(h.a)(t,"isEmailValid","email"===n?O(e.target.value):a.state.isEmailValid),Object(h.a)(t,"isPasswordValid","password"===n?N(e.target.value):a.state.isPasswordValid),t)),a.props.isLoginFailed&&a.props.onResetLoginFailFlag()},a.formValidate=function(e){var t=e.target.name;a.setState({isEmailValid:"email"===t?O(e.target.value):a.state.isEmailValid,isPasswordValid:"password"===t?N(e.target.value):a.state.isPasswordValid})},a.loginSubmitHandler=function(e){e.preventDefault();var t=a.state.email,n=a.state.password;O(a.state.email)&&N(a.state.password)&&a.props.onLogin(a.state.email,a.state.password),a.setState({email:t,password:n,isEmailValid:O(a.state.email),isPasswordValid:N(a.state.password)})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isAuthenticated&&this.setState({email:"",password:"",redirectToHome:r.a.createElement(g.a,{to:"/home"})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-wrapper col-md-4 offset-2 mt-5"},this.state.redirectToHome,r.a.createElement(E,{heading:"Login"}),r.a.createElement(b,{inputChangeHandler:function(t){return e.inputChangeHandler(t)},loginSubmitHandler:function(t){return e.loginSubmitHandler(t)},formValidate:function(t){return e.formValidate(t)},isEmailValid:this.state.isEmailValid,isPasswordValid:this.state.isPasswordValid,email:this.state.email,password:this.state.password}),this.props.isLoginFailed&&r.a.createElement("div",{className:"alert alert-danger"},"Username or Password is incorrect !!"))}}]),t}(n.Component),j=Object(s.b)(function(e){return{isAuthenticated:e.login.isAuthenticated,isLoginFailed:e.login.isLoginFailed}},function(e){return{onLogin:function(t,a){return e(function(e,t){return"ram@gmail.com"===e&&"Ram@123"===t?v():y()}(t,a))},onResetLoginFailFlag:function(){return e({type:"RESET_LOGIN_FAIL_FLAG"})}}})(w),x=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"layout row col-md-9 offset-3 mt-5"},r.a.createElement(j,null))}}]),t}(n.Component),C=a(7),L=function(e){return r.a.createElement("div",{className:"header row mt-2"},r.a.createElement("div",{className:"col-md-3 text"},r.a.createElement("h2",null,e.header)),r.a.createElement("div",{className:"col-md-8 text-right mt-2"},r.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){return e.onLogout()}},"Logout")))},S=(a(49),a(23)),_=a.n(S),A=function(e){return r.a.createElement("span",{className:"likes"},r.a.createElement("img",{src:_.a,onClick:function(){return e.likeOrDislikeComment(e.item.user_id,"likes")},alt:"Not available"}),r.a.createElement("span",{className:"likes-count ml-1"},e.item.comments.like))},T=a(24),D=a.n(T),H=function(e){return r.a.createElement("span",{className:"dislikes ml-3"},r.a.createElement("img",{src:D.a,onClick:function(){return e.likeOrDislikeComment(e.item.user_id,"dislikes")},alt:"Not available"}),r.a.createElement("span",{className:"likes-count ml-1"},e.item.comments.dislike))},V=function(e){var t=e.item.comments.reply.map(function(e,t){return r.a.createElement("div",{className:"reply-details mt-1",key:t},r.a.createElement("span",{className:"user-name"},e.name),r.a.createElement("br",null),r.a.createElement("div",{className:"comment"},e.replyText))});return r.a.createElement("div",{className:"replies col-md-10 offset-1 mt-2"},t)},F=function(e){var t=Object(n.useState)(!1),a=Object(C.a)(t,2),i=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"reply ml-2",style:{fontSize:"13px",cursor:"pointer"},onClick:function(){return l(!i)}},r.a.createElement("b",null,"Reply")),r.a.createElement("br",null),e.item.comments.reply.length>0&&r.a.createElement(V,{item:e.item}),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:"col-md-10 offset-1 mt-2"},r.a.createElement("textarea",{placeholder:"Add text here",className:"form-control",style:{resize:"none"},onChange:function(t){return e.replyHandler(t)},value:e.replyText}),r.a.createElement("button",{className:"btn btn-sm btn-primary mt-2",onClick:function(){return e.addReply()}},"Add Reply"))))},I=function(e){return r.a.createElement("div",{className:"comment w-75 ml-3"},r.a.createElement("span",{className:"user-name"},e.item.user.name),r.a.createElement("span",{className:"post-time ml-3"},e.item.comments.time),r.a.createElement("br",null),r.a.createElement("div",{className:"comment"},e.item.comments.text),r.a.createElement(A,{item:e.item,likeOrDislikeComment:function(t,a){return e.likeOrDislikeComment(t,a)}}),r.a.createElement(H,{item:e.item,likeOrDislikeComment:function(t,a){return e.likeOrDislikeComment(t,a)}}),r.a.createElement(F,{item:e.item,replyHandler:function(t){return e.replyHandler(t)},addReply:function(){return e.addReply()},replyText:e.replyText}))},P=function(e){var t=e.commentsData.map(function(t){return r.a.createElement("div",{className:"comment-details-wrapper",key:t.user_id},r.a.createElement("div",{className:"comment-details w-100 row"},r.a.createElement("img",{className:"image",src:a(50)("./".concat(t.user.image_url)),alt:"Not available"}),r.a.createElement(I,{item:t,likeOrDislikeComment:function(t,a){return e.likeOrDislikeComment(t,a)},replyHandler:function(t){return e.replyHandler(t)},addReply:function(){return e.addReply(t.user_id)},replyText:e.replyText})),r.a.createElement("br",null))});return r.a.createElement("div",{className:"user-comment col-md-12"},t)},R=function(e){return r.a.createElement("div",{className:"add-comment col-md-12"},r.a.createElement("textarea",{placeholder:"Add text here",className:"form-control",rows:"8",style:{resize:"none"},onChange:function(t){return e.commentChangeHandler(t)},value:e.commentText}),r.a.createElement("button",{className:"btn btn-md btn-primary mt-2",onClick:e.addComment},"Add Comment"))},z=(a(52),function(e){return console.log("===props.pageNumber==",e.pageNumber),r.a.createElement("div",{className:"pagination-wrapper"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link","aria-label":"Previous",onClick:function(){return e.paginatePreviousData()}},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))),e.pageNumber.length>0&&e.pageNumber.map(function(t){return r.a.createElement("li",{className:e.limit/5===t?"page-item active":"page-item",key:t,onClick:function(){return e.paginateData(t)}},r.a.createElement("button",{className:"page-link"},t))}),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link","aria-label":"Next",onClick:function(){return e.paginateNextData()}},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next")))))}),G=function(e){var t=Object(n.useState)([]),a=Object(C.a)(t,2),i=a[0],l=a[1],o=Object(n.useState)(""),s=Object(C.a)(o,2),c=s[0],m=s[1],u=Object(n.useState)([]),d=Object(C.a)(u,2),p=d[0],f=d[1],g=Object(n.useState)(5),h=Object(C.a)(g,2),E=h[0],b=h[1],v=Object(n.useState)(0),y=Object(C.a)(v,2),O=y[0],N=y[1],w=Object(n.useState)(1),j=Object(C.a)(w,2),x=j[0],S=j[1],_=Object(n.useState)(""),A=Object(C.a)(_,2),T=A[0],D=A[1];Object(n.useEffect)(function(){if(k.length>5){for(var e=k.length/5,t=[],a=1;a<=e;a++)t.push(a);f(t)}l(k)},[]);return r.a.createElement("div",{className:"layout col-md-8 offset-2"},r.a.createElement(L,{header:"Comments",onLogout:function(){return e.onLogout()}}),r.a.createElement("hr",null),r.a.createElement(P,{commentsData:i.slice(O,E),likeOrDislikeComment:function(e,t){return function(e,t){var a=JSON.parse(JSON.stringify(i)),n=a.findIndex(function(t){return t.user_id===e});n>-1&&("likes"===t?a[n].comments.like+=1:a[n].comments.dislike+=1),l(a)}(e,t)},replyHandler:function(e){return function(e){D(e.target.value)}(e)},addReply:function(t){return function(t){if(e.isAuthenticated)if(""!==T.trim()){var a=JSON.parse(JSON.stringify(i)),n=a.findIndex(function(e){return e.user_id===t});if(n>-1){var r={name:"Anonymous",replyText:T};a[n].comments.reply.push(r)}l(a),D("")}else alert("Text is not allowed to be empty");else alert("Please login to reply !"),e.onLogout()}(t)},replyText:T}),i.length>5&&r.a.createElement(z,{pageNumber:p,paginateData:function(e){return function(e){N(5*e-5),b(5*e),S(e)}(e)},limit:E,paginatePreviousData:function(){return function(){var e=x;x>1&&(e=x-1),N(5*e-5),b(5*e),S(e)}()},paginateNextData:function(){return function(){var e=x;x<5&&(e=x+1),N(5*e-5),b(5*e),S(e)}()}}),r.a.createElement(R,{commentText:c,commentChangeHandler:function(e){return function(e){m(e.target.value)}(e)},addComment:function(){if(e.isAuthenticated)if(""!==c.trim()){var t=JSON.parse(JSON.stringify(i)),a={user_id:Math.random(10),user:{name:"Anonymous",image_url:"anonymous.jpg"},comments:{text:c,time:"Today at 1pm",like:0,dislike:0,reply:[]}};if(t.push(a),t.length>5&&t.length%5===1){for(var n=[],r=t.length/5,o=1;o<=r+1;o++)n.push(o);f(n)}l(t),m("")}else alert("Text is not allowed to be empty!");else alert("Please login to add post !"),e.onLogout()}}))},U=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToLogin:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isAuthenticated||this.setState({redirectToLogin:r.a.createElement(g.a,{to:"/login"})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"home col-md-10 offset-1"},this.state.redirectToLogin,r.a.createElement(G,{isAuthenticated:this.props.isAuthenticated,onLogout:function(){return e.props.onLogout()}}))}}]),t}(n.Component),J=Object(s.b)(function(e){return{isAuthenticated:e.login.isAuthenticated}},function(e){return{onLogout:function(){return e({type:"LOGOUT"})}}})(U),M=(a(53),function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/home",exact:!0,component:J}),r.a.createElement(g.b,{path:"/login",exact:!0,component:x}),r.a.createElement(g.a,{to:"/home"})))}}]),t}(n.Component)),$=Object(s.b)(function(e){return{isAuthenticated:e.login.isAuthenticated}},null)(M);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(54);var B=a(31),q=function(e,t){return Object(B.a)({},e,t)},W={isLoginFailed:null,isAuthenticated:localStorage.getItem("auth")},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return function(e,t){return localStorage.setItem("auth",!0),q(e,{isAuthenticated:!0})}(e);case"LOGIN_FAIL":return function(e,t){return q(e,{isLoginFailed:!0})}(e);case"LOGOUT":return function(e,t){return localStorage.removeItem("auth"),q(e,{isAuthenticated:!1})}(e);case"RESET_LOGIN_FAIL_FLAG":return function(e,t){return localStorage.removeItem("auth"),q(e,{isLoginFailed:null})}(e);default:return e}},Z=Object(o.b)({login:X}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,Q=Object(o.d)(Z,K()),Y=r.a.createElement(s.a,{store:Q},r.a.createElement(c.a,null,r.a.createElement($,null)));l.a.render(Y,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.1f44f3bf.chunk.js.map